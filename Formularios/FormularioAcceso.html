<!DOCTYPE html>
<html lang="es">

<head>
  <script src="js/ActualizarAcceso.js" charset="utf-8"></script>
  <script src="js/idAcceso.js" charset="utf-8"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Proyecto aaa</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="css/mdb.min.css" rel="stylesheet">
  <!-- Your custom styles (optional) -->
  <link href="css/style.css" rel="stylesheet">

  <script type="text/javascript">

    function guardarDatos() {

      var tipo_de_usuario = document.getElementById("tipo_de_usuario").value;
      var id_objeto = document.getElementById("id_objeto").value;
      var activo = document.getElementById("activo").value;

      var Mensaje;

      var url = "../Servicios Insert/InsertAcceso.php?tipo_de_usuario=" + tipo_de_usuario + "&id_objeto=" + id_objeto + "&activo=" + activo;
      $.getJSON(url, function (data) {
        $.each(data, function (key, value) { Mensaje = value["Mensaje"]; });
        alert(Mensaje);
      });

      document.getElementById("tipo_de_usuario").value = "";
      document.getElementById("id_objeto").value = "";
      document.getElementById("activo").value = "";

      //llamar nueva funcion
      ReporteFormulario();
    }

   

 

    function CargarDatos() {

      $.ajax({ async: false });

      var url = "../Servicios Select All/SelectAllTipodeusuario.php";
      var html = "";

      $.getJSON(url, function (data) {
        $.each(data, function (key, value) {

          html = html + "<option value='" + value["tipo_de_usuario"] + "' >" + value["descripcion"] + "</option>";

        });

        document.getElementById("tipo_de_usuario").innerHTML = "";
        document.getElementById("tipo_de_usuario").innerHTML = html;

      });

      var url2 = "../Servicios Select All/SelectAllObjeto.php";
      var html2 = "";

      $.getJSON(url2, function (data) {
        $.each(data, function (key, value) {

          html2 = html2 + "<option value='" + value["Id_objeto"] + "' >" + value["Descripcion"] + "</option>";

        });

        document.getElementById("id_objeto").innerHTML = "";
        document.getElementById("id_objeto").innerHTML = html2;

      });

    }

  </script>

</head>

<body onload="CargarDatos(), ReporteFormulario();">

   <!--Navbar -->
   <nav
   class="mb-1 navbar navbar-expand-lg nav blue-gradient py-4 mb-md-0 mb-4 font-weight-bold z-depth-1 navbar-dark default-color">
   <a class="navbar-brand" href="#"> <img src="img\aaa logo.png" height="30" alt="aaa logo"></a>
   <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent-333"
     aria-controls="navbarSupportedContent-333" aria-expanded="false" aria-label="Toggle navigation">
     <span class="navbar-toggler-icon"></span>
   </button>
   <div class="collapse navbar-collapse" id="navbarSupportedContent-333">
     <ul class="navbar-nav mr-auto" id="menu">

     </ul>
   </div>
 </nav>
 <!--/.Navbar -->

  <!--TITULO -->


  <div class="jumbotron jumbotron-fluid"
    style="background-image: url(https://mdbootstrap.com/img/Photos/Others/gradient1.jpg);">
    <div class="container">
      <div class="text-white text-center">
        <div>
          <h2 class="card-title h1-responsivefont-bold">
            <strong>Dar Accesos</strong></h2>
        </div>
      </div>
    </div>
  </div>


  <div class="container">
    <div class="card">
      <div class="card-body">
        <div class="container" style="margin-top:10px">


          <!-- **************************EDITAR FORMULARIOS AQUI****************************************************************-->



          <!--SELECTOR-->
          <div class="md-form">
            <i class="fas fa-user prefix"></i>
            <label for="inputIconEx1">Tipo de usuario</label>
            <br><br>
            <select class="browser-default custom-select custom-select-md mb-3" id="tipo_de_usuario" name="Malapalabra">

            </select>
          </div>

          <!--SELECTOR-->
          <div class="md-form">
            <i class="fas fa-user-tag prefix"></i>
            <label for="id_objeto">Objeto</label>
            <br><br>
            <select class="browser-default custom-select custom-select-md mb-3" id="id_objeto" name="Malapalabra">

            </select>
          </div>

          <!--SELECTOR-->
          <div class="md-form">
            <i class="fas fa-power-off prefix"></i>
            <label for="inputIconEx1">Activo</label>
            <br><br>
            <select class="browser-default custom-select custom-select-md mb-3" id="activo" name="Malapalabra">
              <option value="0">Inactivo</option>
              <option value="1">Activo</option>

            </select>

            <!-- Boton de buscar -->
            <div class="btn-group">
              <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Editar Registro
              </button>
              <div class="dropdown-menu" style="padding: 10%;">
                <form id="form_niv">
                  <input class="form-control" placeholder="buscar por ID" id="IdBuscar" type="search" required>
                  <br>
                  <button class="btn btn-primary" type="button" onclick="Buscar()">Buscar</button>
                </form>
              </div>
            </div>
          </div>


          <!-- Central Modal Medium Success -->
          <div class="modal fade" id="centralModalSuccess" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-notify modal-success" role="document">
              <!--Content-->
              <div class="modal-content">
                <!--Header-->
                <div class="modal-header">
                  <p class="heading lead">Operación Exitosa</p>

                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                  </button>
                </div>

                <!--Body-->
                <div class="modal-body">
                  <div class="text-center">
                    <i class="fas fa-check fa-4x mb-3 animated rotateIn"></i>
                    <p>Descripción de la operación Descripción de la operación
                      Descripción de la operación Descripción de la operación
                      Descripción de la operación Descripción de la operación </p>
                  </div>
                </div>

                <!--Footer-->
                <div class="modal-footer justify-content-center">
                  <a type="button" class="btn btn-success">Entendido<i class="far fa-gem ml-1 white-text"></i></a>

                </div>
              </div>
              <!--/.Content-->
            </div>
          </div>

          <button type="button" class="btn aqua-gradient btn-lg mr-1" id="boton-guardar"
            onclick="guardarDatos();">Enviar <i class="fas fa-magic ml-1"></i></button>
          <button type="button" class="btn peach-gradient btn-lg ml-1" id="boton-actualizar"
            onclick="ActualizarAcceso();">Actualizar
            <i class="fas fa-pencil-alt ml-1"></i></button>
          <!-- Central Modal Medium Success-->
          </form>
        </div>
      </div>


      <!--Crear tabla, copiar igualito-->
      <div class="table-responsive">
        <table class="table" id="Reporte">


        </table>
      </div>
    </div>
  </div>
  </div>
  </div>




  <!--Footer-->
  <footer class="page-footer text-center font-small primary-color-dark darken-2 mt-4 wow fadeIn">



    <hr class="my-4">


    <!--Copyright-->
    <div class="footer-copyright py-3">
      © 2019 Derechos Reservados:
      <a href="" target="_blank">AAA</a>
    </div>
    <!--/.Copyright-->

  </footer>
  <!--/.Footer-->



  <!-- SCRIPTS -->

  <!-- JQuery -->
  <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>
  <script src="js/MenuDinamico.js" charset="utf-8"></script>
<script src="js/ValidarPermisos.js" charset="utf-8"></script>
<script src="js/SinPermisos.js"></script>
</body>

</html>
